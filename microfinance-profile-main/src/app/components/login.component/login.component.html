<div class="login-page">
  <!-- Header avec informations système -->
  <div class="system-header">
    <div class="system-info">
      <div class="system-time">
        <i class="material-icons">schedule</i>
        <span>{{ currentDate }}</span>
      </div>
      <div class="system-name">
        <i class="material-icons">account_balance</i>
        <span>{{ currentUser }}</span>
      </div>
    </div>
  </div>

  <div class="main-container">
    <!-- Section Connexion (Gauche) -->
    <div class="login-section">
      <div class="login-content">
        <!-- Logo et titre principal -->
        <div class="login-header">
          <div class="logo-container">
            <div class="logo-circle">
              <i class="material-icons">account_balance_wallet</i>
            </div>
          </div>
          <h1>Connexion</h1>
          <p class="subtitle">Accédez à votre espace personnel</p>
        </div>

        <!-- Formulaire de connexion -->
        <div class="login-card">
          <form [formGroup]="loginForm" (ngSubmit)="onSubmit()" class="login-form">
            <!-- Champ Email -->
            <div class="form-group">
              <label for="email" class="form-label">
                <i class="material-icons">email</i>
                Adresse email
              </label>
              <input
                type="email"
                id="email"
                formControlName="email"
                class="form-input"
                [class.error]="hasError('email', 'required') || hasError('email', 'email')"
                placeholder="votre.email@exemple.com"
              />
              <div class="error-messages">
                <div class="error-message" *ngIf="hasError('email', 'required')">
                  <i class="material-icons">error_outline</i>
                  L'email est requis
                </div>
                <div class="error-message" *ngIf="hasError('email', 'email')">
                  <i class="material-icons">error_outline</i>
                  Format d'email invalide
                </div>
              </div>
            </div>

            <!-- Champ Mot de passe -->
            <div class="form-group">
              <label for="password" class="form-label">
                <i class="material-icons">lock</i>
                Mot de passe
              </label>
              <div class="password-container">
                <input
                  [type]="showPassword ? 'text' : 'password'"
                  id="password"
                  formControlName="password"
                  class="form-input"
                  [class.error]="hasError('password', 'required') || hasError('password', 'minlength')"
                  placeholder="••••••••"
                />
                <button 
                  type="button" 
                  class="password-toggle" 
                  (click)="togglePasswordVisibility()"
                >
                  <i class="material-icons">
                    {{ showPassword ? 'visibility_off' : 'visibility' }}
                  </i>
                </button>
              </div>
              <div class="error-messages">
                <div class="error-message" *ngIf="hasError('password', 'required')">
                  <i class="material-icons">error_outline</i>
                  Le mot de passe est requis
                </div>
                <div class="error-message" *ngIf="hasError('password', 'minlength')">
                  <i class="material-icons">error_outline</i>
                  Minimum 6 caractères
                </div>
              </div>
            </div>

            <!-- Options supplémentaires -->
            <div class="form-options">
              <label class="remember-checkbox">
                <input type="checkbox" formControlName="rememberMe">
                <span class="checkmark"></span>
                <span class="checkbox-text">Se souvenir de moi</span>
              </label>
              <a href="#" class="forgot-password">Mot de passe oublié ?</a>
            </div>

            <!-- Message d'erreur global -->
            <div class="global-error" *ngIf="errorMessage">
              <i class="material-icons">warning</i>
              <span>{{ errorMessage }}</span>
            </div>

            <!-- Bouton de connexion -->
            <button 
              type="submit" 
              [disabled]="loginForm.invalid || isLoading" 
              class="login-btn"
            >
              <span *ngIf="!isLoading" class="btn-content">
                <i class="material-icons">login</i>
                Se connecter
              </span>
              <span *ngIf="isLoading" class="btn-loading">
                <div class="spinner"></div>
                Connexion en cours...
              </span>
            </button>
          </form>

          <!-- Actions supplémentaires -->
          <div class="additional-actions">
            <div class="action-divider">
              <span>ou</span>
            </div>
            <div class="action-buttons">
              <button 
                type="button" 
                class="action-btn demo-btn"
                (click)="startDemoMode()"
              >
                <i class="material-icons">play_circle_outline</i>
                Mode Démonstration
              </button>
              <button 
                type="button" 
                class="action-btn register-btn"
                (click)="navigateToRegister()"
              >
                <i class="material-icons">person_add</i>
                Créer un compte
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
